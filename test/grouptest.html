<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Ran.dom</title>
	<script type="text/javascript" src="paper.js"></script>
	<script type="text/javascript" src="final_engine_layers.js"></script>
	<script type="text/javascript">
		paper.install(window);
		window.onload = function() {
			paper.setup('canvas');
			
			var behavior1 = new Behavior({
				eagerness : 8,
				arousal : 0,
				focus : 10
			});
			parray.push(new Locomotion({
						behavior : behavior1,
						velocity : new Point(0,0),
						mass : 1,
						boundingRadius : 25,
						maxForce : 400,
						maxSpeed : 100,
						shape : new Path.Circle({
						center : view.center,
						radius : 10,
						fillColor : 'blue'
						}),
						point : view.center.subtract(new Point(75,0))	
				}));
			for (var i = 1; i < 5; i++) {
				parray.push(new Locomotion({
						behavior : behavior1,
						velocity : new Point(0,0),
						mass : 1,
						boundingRadius : 25,
						maxForce : 400,
						maxSpeed : 100,
						shape : new Path.Circle({
						center : view.center,
						radius : 10,
						fillColor : 'red'
						}),
						point : view.center.add(Point.random().multiply(60))	
				}));
			}
			function getAvgpos() {
				var boids = 0;
				
			}
			view.onFrame = function(event) {
				var force = parray[0].steeringCohesion(300,1000,0);
				console.log("Steering force " + force);
				parray[0].steer(force,event.delta,event.count);
			}
		}
	</script>
</head>
<body>
	<canvas id="canvas" width="960" height="960"></canvas>
</body>
</html>